{% extends '/backOffice.html.twig' %}



{% block body %}
    <div class="container-fluid pt-4 px-20">
        <div class="row g-4">
            <div class="col-sm-20 col-xl-20">
                <div class="bg-secondary rounded h-100 p-4">

                    <table class="table">
                        <div class="col-12">
                            <div class="bg-secondary rounded h-100 p-4">
                                <h6 class="mb-4" style="text-align: center" >Users List</h6>
                                <div class="table-responsive">
                                   {{ form_start(form, {'attr': {'id': 'contact'}}) }}

                                    <div class="bg-secondary rounded h-100 p-4">
                                        <h6 class="mb-4">Select Role</h6>
                                        {{ form_widget(form.role, {'attr': {'class': 'form-select form-select-sm mb-3', 'aria-label': '.form-select-sm example'}}) }}
                                    </div>
                                    <div class="bg-secondary rounded h-100 p-4">
                                        
                                    {{ form_widget(form.filter, {'attr': {'class': 'btn btn-outline-light m-2', 'label':'Filter'}}) }}
                                       
                                    </div>
                                  
                                    {{ form_end(form) }}


                                    <table class="table">
                                        <thead>

                                        <tr>
                                            <th style="text-align: center;color: #FFFFFF" scope="col">Id</th>
                                            <th style="text-align: center ;color: #FFFFFF " scope="col">First Name</th>
                                            <th style="text-align: center ;color: #FFFFFF"  scope="col">Last Name</th>
                                            <th style="text-align: center ;color: #FFFFFF" scope="col">Email</th>
                                            <th style="text-align: center ;color: #FFFFFF" scope="col">Username</th>
                                            <th  class="text-danger" style="text-align: center" scope="col">Delete</th>

                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for user in users %}
                                            <tr>
                                                {% if user.username != "admin" %}
                                                    <th style="text-align: center" scope="row">{{ user.id }}</th>
                                                    <td style="text-align: center" >{{ user.firstname }}</td>
                                                    <td style="text-align: center" >{{ user.lastname }}</td>
                                                    <td style="text-align: center">{{ user.email }}</td>
                                                    <td style="text-align: center" >{{ user.username }}</td>
                                                    <td style="text-align: center" ><form method="post" action="{{ path('app_user_delete', {'id': user.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
                                                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ user.id) }}">
                                                            <button class="btn-danger">Delete</button>
                                                        </form></td>
                                                {% endif %}


                                            </tr>
                                        {% endfor %}

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </table></div></div></div></div>



    <!-- Table End -->
{% endblock %}
