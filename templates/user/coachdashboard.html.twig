{% extends 'frontOffice.html.twig' %}

{% block body %}
    <div class="currently-market">
        <div class="container">
            <div class="col-lg-12">


                    <h2 <span style="text-align: center; color: purple;">Welcome </span> <span style="color: white;"> to your dashboard </span>
                    </h2>
                
            </div>
            <div class="col-lg-12">
                    <h2 <span style="text-align: right; color: purple;">Solde : </span> <span style="color: white;"> {{ app.user.Solde }} dt</span></h2>
                
            </div>
                <div class="col-lg-7" style="display: flex;">
                    <div class="left-image">
                        <br>

                        <br>
                        <br>

                        <img src="../../../assets/images/market-01.jpg" alt="" style="border-radius: 200px; width: 200px;">
                    </div>
                    <div class="col-lg-1">
                    </div>
                    <div class="col-lg-9">
                        <br>
                        <br>
                        <br>
                        <br>
                        <h2><span style="color: purple;"> Coach </span> {{ app.user.username }} <h2>
                        <br>
                        <h4> <span style="color: purple;">Description : </span>{{ app.user.Description }}</h4>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <h4> <span style="color: purple;">Prix : </span>{{ app.user.Prix }} dt</h4>
                    </div>
                    <div class="col-lg-2">
                    </div>
                    <div class="col-lg-2">
                    </div>
                    <div class="col-lg-4">
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                        <a href="{{ path('app_session_coaching_new', {'id': app.user.id}) }}" class="btn btn-primary btn-lg "> Create new Session </a>
                    </div>

                </div>
            </div>
            
        </div>
    <h1>Vos Sessions :</h1>
    <br>

    <table class="table">
        <thead>
            <tr>
                <th style="color: white;">Id</th>
                <th style="color: white;">Titre</th>
                <th style="color: white;">Description</th>
                <th style="color: white;">Prix</th>
                <th style="color: white;">Date</th>
                <th style="color: white;">actions</th>
            </tr>
        </thead>
        <tbody>
        {% for session_coaching in session_coachings %}
            {% if session_coaching.User.id == app.user.id %}
            <tr>
                <td style="color: white;">{{ session_coaching.id }}</td>
                <td style="color: white;">{{ session_coaching.Titre }}</td>
                <td style="color: white;">{{ session_coaching.Description }}</td>
                <td style="color: white;">{{ session_coaching.Prix }}</td>
                <td style="color: white;">{{ session_coaching.Date ? session_coaching.Date|date('Y-m-d') : '' }}</td>
                <td>
                    <a href="{{ path('app_session_coaching_show', {'id': session_coaching.id}) }}" class="btn btn-primary"> show </a>
                    <a href="{{ path('app_session_coaching_edit', {'id': session_coaching.id}) }}" class="btn btn-warning"> edit </a>
                </td>
            </tr>
            {% endif %}
        {% else %}
            <tr>
                <td style="color: white;" colspan="6">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
        <h1>Vos Reservations</h1>
    <table class="table">
        <thead>
            <tr>
                <th style="color: white;">Id</th>
                <th style="color: white;">Nbr_heures</th>
                <th style="color: white;">Prix</th>
                <th style="color: white;">Langue</th>
                <th style="color: white;">actions</th>
            </tr>
        </thead>
        <tbody>
        {% for reservation_c in reservation_cs %}
            {% if reservation_c.User.id == app.user.id %}
            <tr>
                <td style="color: white;">{{ reservation_c.id }}</td>
                <td style="color: white;">{{ reservation_c.NbrHeures }}</td>
                <td style="color: white;">{{ app.user.Prix * reservation_c.NbrHeures }}</td>
                <td style="color: white;">{{ reservation_c.Langue }}</td>
                <td>
                    <a href="{{ path('app_reservation_c_show', {'id': reservation_c.id}) }}"class="btn btn-primary">show</a>
                    <a href="{{ path('app_reservation_c_edit', {'id': reservation_c.id}) }}"class="btn btn-warning">edit</a>
                    
                </td>
            </tr>
            {% endif %}
        {% else %}
            <tr>
                <td style="color: white;" colspan="5">no records found</td>
            </tr>

        {% endfor %}
        </tbody>
    </table>
    </div>
{% endblock %}